<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        window.addEventListener('load', async () => {
            const registration = await navigator.serviceWorker.register('/sw.js');
            // Registration was successful
            console.log('ServiceWorker registration successful with scope: ', registration.scope);
            setTimeout(async () =>{
                console.log('starting fetch');
                const resp = await fetch('./generated.json#iah', {
                    headers:{
                        'test': 'i am here'
                    }
                });
                const json = await resp.json();
                console.log(json);
            }, 1000);

        });
    </script>
</body>
</html>